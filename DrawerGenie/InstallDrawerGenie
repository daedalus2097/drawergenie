; DrawerGenie
; $VER: DrawerGenie 0.7 (15.09.2024)

; Generated by InstallerGen 1.5!

(complete 0)
(set @app-name "DrawerGenie")
(set @default-dest "RAM:")
; 
(welcome "Welcome! DrawerGenie is a commodity for OS 3.5+ that lets you add a useful toolbar to Workbench drawer windows. This script will install DrawerGenie for you.")

; 
(set #default-dest-installergen-temp
  (askdir
    (prompt "Please choose where to install DrawerGenie. A directory called DrawerGenie will be created automatically.")
    (help @askdir-help)
    (default @default-dest)
  )
)
(set @default-dest #default-dest-installergen-temp)
(set @default-dest (tackon @default-dest "DrawerGenie"))

(complete 10)
; 
(copyfiles
  (prompt "Copying files...")
  (help @copyfiles-help)
  (infos)
  (source "")
  (dest @default-dest)
  (choices "DrawerGenie.guide" "DrawerGenie.guide.info" "DrawerGenie.readme" "DrawerGenie.readme.info" "DrawerGenieCopy" "DrawerGenieLha" "DrawerGenieXAD" "History.txt" "History.txt.info" "DrawerGenie" "DrawerGenie.info" "toolbars")
)

(complete 70)
; Set tooltype for home directory
(tooltype

; 
(prompt "Setting tooltype...")

; 
(dest (tackon @default-dest "DrawerGenie"))

; 
(settooltype "HOMEDIR" @default-dest)

; End of Tooltype lines
)

(complete 80)
; 
(set #var_1
  (askoptions
    (prompt "DrawerGenie can be started automatically on boot if desired. If you enable this option, the executable will be copied to WBStartup.")
    (help @askoptions-help)
    (choices "Launch DrawerGenie on boot")
    (default 0)
  )
)
(set #wbstartup (BITAND (shiftright #var_1 0) 1))

(complete 80)
; 
(if (= #wbstartup 1)
(

(complete 80)
; 
(copyfiles
  (prompt "Copying DrawerGenie to WBStartup...")
  (help @copyfiles-help)
  (infos)
  (source @default-dest)
  (dest "SYS:WBStartup")
  (choices "DrawerGenie")
)

(complete 90)
; 
(delete (tackon @default-dest "DrawerGenie")
  (infos)
  (prompt "Removing original copy")
  (help )
  (optional "askuser")
)

)
) ; End If
(complete 95)
; 
(set #var_2
  (askoptions
    (prompt "That's it! Please read the documentation on how to use and configure DrawerGenie.")
    (help @askoptions-help)
    (choices "Open AmigaGuide Documentation")
    (default 1)
  )
)
(set #openguide (BITAND (shiftright #var_2 0) 1))

; 
(if (= #openguide 1)
(

; 
(run "SYS:Utilities/Multiview " (tackon @default-dest "DrawerGenie.guide")
  (prompt "Opening documentation...\n")
  (help )
)

(complete 100)
; 
(exit)

)
) ; End If
